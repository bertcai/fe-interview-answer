## 2023-4

## 2023-4-2

> [软技能] 拿到一个新的需求，你一般会怎么做？

1. 首先，要明确需求，明确需求的目的，以及需求的具体内容，比如需求的功能点、需求的优先级、需求的时间节点等。
2. 撰写对应功能点的设计文档，包括功能点的设计思路、功能点的实现方式、功能点的实现难点、功能点的实现效果等。
3. 在前后端分离时，与对接的后台人员沟通，确定后台接口的参数和返回值，以及接口的调用方式；获取后台人员大概的开发时间。
4. 正式进行开发
5. 如果有可能的话，在开发过程中mock数据，进行简单的调试工作
6. 联调，联调过程中，如果发现问题，需要及时沟通，解决问题
7. 提测，测试人员进行测试，如果发现问题，需要及时沟通，解决问题
8. 发布上线

## 2023-4-3 

> [软技能] 如何实现无感刷新token？

1. 用户登录首次登录时，服务端会返回一个token，同时会返回一个refreshToken，refreshToken的有效期一般会比token长一些，比如token的有效期是1小时，refreshToken的有效期是7天。
2. 用户在后续每次请求时，都会带上token，服务端会校验token的有效性，如果token有效，则正常返回数据，如果token无效，则返回401状态码。
3. 客户端发现token失效后，带上refreshToken去请求服务端，服务端会校验refreshToken的有效性，如果refreshToken有效，则会返回一个新的token和refreshToken，如果refreshToken无效，则要求用户重新登录。

## 2023-4-5

> [软技能] 前端并发多个相同的请求，如何控制只发一个？

1. 使用防抖函数，比如lodash的debounce函数，将多个请求合并成一个请求，然后在一定时间内，只执行最后一次请求。
2. 使用节流函数，比如lodash的throttle函数，将多个请求合并成一个请求，然后在一定时间内，只执行第一次请求。
3. 使用axios
    ```js
    const controller = new AbortController();

    axios.get('/foo/bar', {
        signal: controller.signal
    }).then(function(response) {
        //...
    });
    // 取消请求
    controller.abort()
    ```